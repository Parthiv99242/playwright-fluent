<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>page with request</title>
  </head>

  <body>
    <h1>Yo!</h1>

    <script>
      window.setTimeout(() => {
        const h1 = document.querySelector('h1');
        h1.innerText = 'Yo! request started...';
        fetch('http://localhost:1234/foobar?foo=bar')
          .then(() => {
            h1.innerText = 'Yo! request finished...';
          })
          .catch(() => {
            h1.innerText = 'Yo! request failed...';
          });
      }, 0);

      window.setTimeout(() => {
        fetch('http://localhost:1234/yo?foo=bar');
      }, 500);
    </script>
  </body>
</html>
